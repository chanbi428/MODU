(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{213:function(e,t,n){},361:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),c=n(150),o=n(16),i=function(){return r.a.createElement("div",{style:{height:"70h",display:"flex",justifyContent:"center"}},r.a.createElement("div",{className:"spinner-grow text-warning",role:"status"},r.a.createElement("span",{className:"visually-hidden"})),r.a.createElement("div",{className:"spinner-grow text-warning",role:"status"},r.a.createElement("span",{className:"visually-hidden"})),r.a.createElement("div",{className:"spinner-grow text-warning",role:"status"},r.a.createElement("span",{className:"visually-hidden"})))},l=n(358),s=n(362),u=(n(212),n(213),function(e){var t=e.countries;return r.a.createElement(l.a,{style:{height:"50vh"},zoom:2,center:[20,60]},r.a.createElement(s.a,{style:{fillColor:"white",weight:2,color:"black",fillOpacity:1},data:t,onEachFeature:function(e,t){t.options.fillColor=e.properties.color;var n=e.properties.ADMIN,a=e.properties.confirmedText;t.bindPopup("".concat(n," ").concat(a))}}))}),f=function(e){var t=e.legendItems;return r.a.createElement("div",{style:{display:"flex",alignItems:"stretch"}},t.map(function(e){return r.a.createElement("div",{key:e.title,style:{backgroundColor:e.color,flex:1,display:"flex",alignItems:"center",justifyContent:"center",color:null!=e.textColor?e.textColor:"black",fontWeight:"bolder",fontSize:"1em",height:"7vh"}},r.a.createElement("span",null,e.title))}))},d=n(152),m=n.n(d),p=n(15),b=n(153),y=n(22),h=n(214),v=n(215),E=n(20),C=n.n(E),w=n(163),D=n.n(w),O=n(146),j=n(173),g=function e(t,n,a,r){Object(y.a)(this,e),this.title=t,this.color=n,this.isFor=a,this.textColor=r},x=[new g("10,000 +","#741f1f",function(e){return e>=1e4},"white"),new g("5,000 - 9,999","#9c2929",function(e){return e>=5e3&&e<1e4},"White"),new g("1,000 - 4,999","#c57f7f",function(e){return e>=1e3&&e<5e3}),new g("500 - 999","#d8aaaa",function(e){return e>=500&&e<1e3}),new g("0 - 500","#ebd4d4",function(e){return e>0&&e<500}),new g("No Data","#ffffff",function(e){return!0})],N=Object(v.a)("processCovidData"),S=Object(v.a)("setCountryColor"),k=Object(v.a)("formatNumberWithCommas"),I=function e(){var t=this;Object(y.a)(this,e),this.today=D()().format("YYYYMMDD"),this.yesterday=D()().subtract(1,"days").format("YYYYMMDD"),this.setState=null,this.mapCountries=j.a,this.yesterdayDefcnt=[],this.todayDefcnt=[],this.filtercnt=function(e){return t.cnt=0,t.todayDefcnt.filter(function(t){return-1!=t.nationNmEn.indexOf(e)}).map(function(n,a){e===n.nationNmEn&&(t.cnt=n.todayNatDefCnt)}),t.cnt},this.load=function(){var e=Object(b.a)(m.a.mark(function e(n){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.setState=n,t.yesterdayEndpointInfo="".concat(O.i,"?serviceKey=").concat(O.f,"&startCreateDt=20211109&endCreateDt=20211109"),t.todayEndpointInfo="".concat(O.i,"?serviceKey=").concat(O.g,"&startCreateDt=20211110&endCreateDt=20211110"),e.next=5,C.a.get(t.yesterdayEndpointInfo).then(function(e){t.yesterdayDefcnt=e.data.response.body.items.item});case 5:return e.next=7,C.a.get(t.todayEndpointInfo).then(function(e){t.todayDefcnt=e.data.response.body.items.item});case 7:t.todayDefcnt.map(function(e,n){t.todayDefcnt[n]=Object(p.a)({},t.todayDefcnt[n],{todayNatDefCnt:e.natDefCnt-t.yesterdayDefcnt[n].natDefCnt})}),t.mapCountries.map(function(e,n){e.properties=Object(p.a)({},e.properties,{natDefCnt:t.filtercnt(e.properties.ADMIN)})}),Object(h.a)(t,N)[N](t.mapCountries);case 10:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Object.defineProperty(this,N,{writable:!0,value:function(e){for(var n=function(n){var a=t.mapCountries[n],r=e.find(function(e){return e.properties.ISO_A3===a.properties.ISO_A3});if(a.properties.confirmed=0,a.properties.confirmedText="0",null!=r){var c=Number(r.properties.natDefCnt);a.properties.confirmed=c,a.properties.confirmedText=Object(h.a)(t,k)[k](c)}Object(h.a)(t,S)[S](a)},a=0;a<t.mapCountries.length;a++)n(a);t.setState(t.mapCountries)}}),Object.defineProperty(this,S,{writable:!0,value:function(e){var t=x.find(function(t){return t.isFor(e.properties.confirmed)});null!=t&&(e.properties.color=t.color)}}),Object.defineProperty(this,k,{writable:!0,value:function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}})},Y=function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=t[0],l=t[1],s=Object(c.a)(x).reverse();return Object(a.useEffect)(function(){(new I).load(l)},[]),r.a.createElement("div",null,0===n.length?r.a.createElement(i,null):r.a.createElement("div",null,r.a.createElement(u,{countries:n}),r.a.createElement(f,{legendItems:s})))},M=n(187),T=n(123),P=n(174),W=n(124),A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"primary";return"undefined"===typeof window?null:window.getComputedStyle(document.documentElement).getPropertyValue("--".concat(e))};var K=function(){var e=Object(a.useState)(!0),t=Object(o.a)(e,2),n=t[0],l=t[1],s=Object(a.useState)({}),u=Object(o.a)(s,2),f=u[0],d=u[1],p=[],y=[];Object(a.useEffect)(Object(b.a)(m.a.mark(function e(){var t,n;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return window.scrollTo(0,0),t="".concat(O.h,"?serviceKey=").concat(O.k,"&startCreateDt=20211108&endCreateDt=2021112"),e.next=4,C.a.get(t).then(function(e){console.log(e.data),h(e.data.response.body.items.item),p=Object(c.a)(y).reverse(),l(!1)});case 4:n=p.map(function(e){return"".concat(e.month,"\uc6d4 ").concat(e.date,"\uc77c")}),d({labels:n,datasets:[{label:"\uad6d\ub0b4 \uce58\ub8cc \uc911\uc778 \ud658\uc790 \uc218",backgroundColor:A("primary"),borderColor:A("primary"),borderWidth:2,fill:!1,data:p.map(function(e){return e.careCnt})}]});case 6:case"end":return e.stop()}},e)})),[]);var h=function(e){e.map(function(e){y=[].concat(Object(c.a)(y),[{year:D()(e.createDt).format("YY"),month:D()(e.createDt).format("MM"),date:D()(e.createDt).format("DD"),careCnt:e.careCnt}])})};return r.a.createElement(T.a,null,r.a.createElement(P.a,null,"\uad6d\ub0b4 \uce58\ub8cc \uc911\uc778 \ud658\uc790 \uc218"),r.a.createElement(W.a,null,!0===n?r.a.createElement(i,null):r.a.createElement(M.Line,{data:f})))};var F=function(){var e=Object(a.useState)(!0),t=Object(o.a)(e,2),n=t[0],l=t[1],s=Object(a.useState)({}),u=Object(o.a)(s,2),f=u[0],d=u[1],p=[],y=[];Object(a.useEffect)(Object(b.a)(m.a.mark(function e(){var t,n;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return window.scrollTo(0,0),t="".concat(O.h,"?serviceKey=").concat(O.f,"&startCreateDt=20211108&endCreateDt=2021112"),e.next=4,C.a.get(t).then(function(e){h(e.data.response.body.items.item),y=Object(c.a)(p).reverse(),l(!1)});case 4:n=y.map(function(e){return"".concat(e.month,"\uc6d4 ").concat(e.date,"\uc77c")}),d({labels:n,datasets:[{label:"\uad6d\ub0b4 \ub204\uc801 \ud655\uc9c4\uc790",backgroundColor:A("secondary"),borderColor:A("secondary"),borderWidth:2,fill:!1,data:y.map(function(e){return e.decideCnt})}]});case 6:case"end":return e.stop()}},e)})),[]);var h=function(e){e.map(function(e){p=[].concat(Object(c.a)(p),[{year:D()(e.createDt).format("YY"),month:D()(e.createDt).format("MM"),date:D()(e.createDt).format("DD"),decideCnt:e.decideCnt}])})};return r.a.createElement(T.a,null,r.a.createElement(P.a,null,"\uad6d\ub0b4 \ub204\uc801 \ud655\uc9c4\uc790"),r.a.createElement(W.a,null,!0===n?r.a.createElement(i,null):r.a.createElement(M.Line,{data:f})))},z=n(148),J=n(134),L=n(135);t.default=function(e){return Object(a.useEffect)(function(){window.scrollTo(0,0)},[]),r.a.createElement(z.a,null,r.a.createElement(J.a,null,r.a.createElement(L.a,null,r.a.createElement(Y,null))),r.a.createElement(J.a,null,r.a.createElement(L.a,{xl:6,lg:12,md:12},r.a.createElement(K,null)),r.a.createElement(L.a,{xl:6,lg:12,md:12},r.a.createElement(F,null))))}}}]);
//# sourceMappingURL=13.023379a1.chunk.js.map